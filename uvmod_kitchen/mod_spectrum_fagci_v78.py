# For v2.01.26
# By spm81 (Matoz)
# Please visit https://t.me/PMR446PT
# spectrum_fagci_v78
# nothing to configure here

##--------------------- do not modify below this line ---------------------------------------------------
import os,sys,struct
print('Running',os.path.basename(sys.argv[0]),'mod...')

fw =  bytearray(open(sys.argv[1],'rb').read())

if fw[0x0004:0x0004+2] == b'\xd5\x00':
    print('Ready to Patch Spectrum Fagni V78 ;)')
    fw[0x0004:0x0004+186] = b'\x79\xEE\x00\x00\x02\x00\x00\x00\x03\x00\x00\x00\x04\x00\x00\x00\x05\x00\x00\x00\x06\x00\x00\x00\x07\x00\x00\x00\x08\x00\x00\x00\x09\x00\x00\x00\x0A\x00\x00\x00\x0B\x00\x00\x00\x0C\x00\x00\x00\x0D\x00\x00\x00\x0E\x00\x00\x00\x1D\xE8\x00\x00\x10\x00\x00\x00\x11\x00\x00\x00\x12\x00\x00\x00\x13\x00\x00\x00\x14\x00\x00\x00\x15\x00\x00\x00\x16\x00\x00\x00\x17\x00\x00\x00\x18\x00\x00\x00\x19\x00\x00\x00\x1A\x00\x00\x00\x1B\x00\x00\x00\x1C\x00\x00\x00\x1D\x00\x00\x00\x1E\x00\x00\x00\x1F\x00\x00\x00\x20\x00\x00\x00\x21\x00\x00\x00\x22\x00\x00\x00\x23\x00\x00\x00\x24\x00\x00\x00\x25\x00\x00\x00\x26\x00\x00\x00\x27\x00\x00\x00\x28\x00\x00\x00\x29\x00\x00\x00\x2A\x00\x00\x00\x2B\x00\x00\x00\x2C\x00\x00\x00\x2D\x00\x00\x00\x2E\x00\x00\x00\x2F\x00'
    payload = b'\x88\x13\x00\x20\xD5\x00\x00\x00\xD9\x00\x00\x00\xDB\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xDD\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xDF\x00\x00\x00\x99\xC3\x00\x00\xE3\x00\x00\x00\xE5\x00\x00\x00\xE7\x00\x00\x00\xE9\x00\x00\x00\xEB\x00\x00\x00\xED\x00\x00\x00\xEF\x00\x00\x00\xF1\x00\x00\x00\xF3\x00\x00\x00\xF5\x00\x00\x00\xF7\x00\x00\x00\xF9\x00\x00\x00\xFB\x00\x00\x00\xFD\x00\x00\x00\xFF\x00\x00\x00\x01\x01\x00\x00\x03\x01\x00\x00\x05\x01\x00\x00\x07\x01\x00\x00\x09\x01\x00\x00\x0B\x01\x00\x00\x0D\x01\x00\x00\x0F\x01\x00\x00\x11\x01\x00\x00\x13\x01\x00\x00\x15\x01\x00\x00\x17\x01\x00\x00\x19\x01\x00\x00\x1B\x01\x00\x00\x1D\x01\x00\x00\x1F\x01\x00\x00\x21\x01\x00\x00\x10\xB5\x06\x4C\x23\x78\x00\x2B\x07\xD1\x05\x4B\x00\x2B\x02\xD0\x04\x48\x00\xE0\x00\xBF\x01\x23\x23\x70\x10\xBD\x8C\x13\x00\x20\x00\x00\x00\x00\xC0\x00\x00\x00\x04\x4B\x10\xB5\x00\x2B\x03\xD0\x03\x49\x04\x48\x00\xE0\x00\xBF\x10\xBD\xC0\x46\x00\x00\x00\x00\x90\x13\x00\x20\xC0\x00\x00\x00\x07\x20\x70\x47\x08\x20\x70\x47\x0A\x00\x30\x3A\x03\x00\xD0\xB2\x09\x28\x05\xD9\x00\x20\x2D\x29\x01\xD1\x58\x68\x46\x30\x70\x47\x07\x20\x42\x43\x58\x68\x80\x18\xF9\xE7\x00\x20\x70\x47\x40\x68\x40\x18\x70\x47\xD3\x08\xDB\x01\x59\x18\xE0\x23\x9B\x00\x99\x42\x07\xD8\x07\x23\x1A\x40\x06\x3B\x93\x40\x40\x68\x42\x5C\x13\x43\x43\x54\x70\x47\x00\x20\x70\x47\x10\xB5\x30\x20\xFC\xF7\x6C\xF9\x01\x24\x01\x00\x30\x20\xA1\x43\xFC\xF7\x36\xFC\x30\x20\xFC\xF7\x63\xF9\x01\x00\xA1\x43\x30\x20\x21\x43\xFC\xF7\x2D\xFC\x0B\x4B\x03\x21\x1A\x00\xAE\x33\xAC\x32\x10\x88\x1A\x78\x00\x23\x91\x42\x5B\x41\x98\x40\xFE\xF7\x20\xFD\x67\x20\xFC\xF7\x4D\xF9\xC0\x05\xC0\x0D\xFF\x28\x00\xD9\xFF\x20\xC0\xB2\x10\xBD\xB4\x13\x00\x20\x10\xB5\x04\x00\x01\x0C\x39\x20\xFC\xF7\x0E\xFC\xA1\xB2\x38\x20\xFC\xF7\x0A\xFC\x30\x20\xFC\xF7\x37\xF9\x04\x00\x00\x21\x30\x20\xFC\xF7\x02\xFC\x21\x00\x30\x20\xFC\xF7\xFE\xFB\x10\xBD\xF0\xB5\x00\x27\x89\xB0\x04\x00\x0D\x00\x16\x00\x39\x00\x07\x22\x06\xA8\x03\x93\x05\x97\x00\xF0\xE8\xFB\x08\x22\x94\x46\x36\x48\x3B\x00\x05\xAF\x00\x22\x01\x6A\xA1\x42\x02\xDC\x64\x1A\x01\x32\xFA\xE7\x30\x32\xDA\x55\x62\x46\x01\x33\xD2\x1A\xD2\xB2\x04\x38\x95\x42\xEF\xD9\x09\x22\x96\x1B\x75\x1B\xED\xB2\x7B\x19\x18\x00\x02\x93\xF1\xF7\x32\xFD\xC3\xB2\x1F\x00\x01\x93\x00\x2F\x4A\xD0\x03\x9B\x26\x4C\xBB\x42\x0F\xD1\x23\x00\x25\x00\x98\x33\xA0\x35\x18\x68\x29\x88\x03\x68\x01\x31\x9B\x68\x89\xB2\x98\x47\x40\x23\x03\x70\x2B\x88\x02\x33\x2B\x80\x1E\x4B\x18\x68\x00\x28\x2D\xD0\x01\x9A\x02\x9B\x9B\x18\x7A\x42\x9E\x5C\x03\x68\x31\x00\x5B\x68\x98\x47\x23\x00\x98\x33\x05\x00\x18\x68\xA0\x34\x03\x68\x21\x88\x9B\x68\x98\x47\x13\x4B\x04\x00\x18\x68\x31\x00\x03\x68\xDB\x68\x98\x47\x02\x00\x00\x2C\x05\xD0\x29\x00\x20\x00\x00\x2D\x0F\xD0\x00\xF0\x93\xFB\x0A\x4C\x31\x00\x23\x00\x9C\x33\x18\x68\xA0\x34\x03\x68\xDB\x68\x98\x47\x23\x88\x1B\x18\x23\x80\x01\x3F\xB5\xE7\x00\xF0\x7B\xFB\xEE\xE7\x09\xB0\xF0\xBD\x14\xEF\x00\x00\xB4\x13\x00\x20\x50\x14\x00\x20\xE0\x22\x10\xB5\x00\x21\x40\x68\x92\x00\x00\xF0\x6B\xFB\x10\xBD\xF0\xB5\xC0\x4C\x85\xB0\x23\x7A\x00\x2B\x05\xD1\x00\xF0\x2E\xFB\x00\xF0\x3C\xFB\x01\x23\x23\x72\xBB\x4D\x2B\x68\xDA\x07\x68\xD5\xBA\x4A\xBB\x4C\x17\x78\x00\x2F\x3A\xD1\x08\x22\x13\x42\x60\xD0\x93\x43\x2B\x60\xB7\x4B\x05\x3A\x39\x20\x1A\x70\xFC\xF7\x82\xF8\x06\x00\x38\x20\xFC\xF7\x7E\xF8\x23\x00\x36\x04\xB4\x33\x06\x43\x47\x20\x1E\x60\xFC\xF7\x76\xF8\x23\x00\xB8\x33\x18\x80\x43\x20\xFC\xF7\x70\xF8\x23\x00\xBA\x33\x39\x00\x18\x80\x47\x20\xFC\xF7\x39\xFB\x23\x00\x03\x22\x38\x00\xAE\x33\x1B\x78\x01\x26\x9A\x42\x78\x41\xC0\xB2\xFC\xF7\xD2\xF8\x23\x00\x85\x33\x1F\x70\x23\x00\x39\x00\xC1\x33\x06\x20\x1E\x70\xFB\xF7\x6E\xFF\x9B\x4B\x1E\x70\x26\x00\x27\x00\xB0\x36\x33\x78\xB1\x37\x3B\x70\xFC\xF7\xF6\xFB\xC0\xB2\x30\x70\x0D\x28\x20\xD1\x97\x48\xFF\xF7\x99\xFF\xFC\xF7\xAD\xFE\x23\x00\xB4\x33\x18\x68\xFF\xF7\xF8\xFE\x23\x00\xB8\x33\x19\x88\x47\x20\xFC\xF7\x06\xFB\x23\x00\xBA\x33\x19\x88\x43\x20\xFC\xF7\x00\xFB\x01\x21\x06\x20\xFB\xF7\x46\xFF\x00\x23\xC0\x34\x23\x70\xFD\xF7\x43\xFD\x05\xB0\xF0\xBD\xFF\x28\x00\xD1\xFE\xE0\x3B\x78\x98\x42\x6F\xD1\x22\x00\x8D\x32\x13\x78\xFF\x2B\x0B\xD1\x0F\x28\x78\xD8\x00\xF0\x48\xFA\xDF\x6A\xAB\x85\x77\xDA\x77\x7C\xBA\xA4\x77\xBF\xCD\x77\xE5\xEE\x01\x33\x13\x70\x23\x00\x8D\x33\x1B\x78\x10\x2B\xEC\xD8\x22\x00\x23\x00\x85\x32\xAF\x33\x12\x78\x1B\x78\x9A\x42\x00\xD3\xF5\xE0\x00\x21\x06\x20\xFB\xF7\x14\xFF\x10\x23\x2A\x68\x26\x00\x9A\x43\x23\x00\x2A\x60\xB4\x33\x1B\x68\xAE\x36\x00\x93\x33\x78\x6D\x4D\x9B\x00\xEB\x18\x00\x99\x5B\x6D\x22\x1D\xCB\x1A\x47\x20\x00\x21\xD3\x67\xFC\xF7\xB3\xFA\x2A\x00\x33\x78\x70\x32\x59\x00\x8A\x5A\x7E\x35\x02\x92\xEA\x5C\x80\x23\x00\x26\x13\x41\x37\x00\xDB\xB2\x03\x93\x01\x96\x03\x9B\x5C\x4D\xB3\x42\x00\xD0\x54\xE1\x2A\x00\x00\x23\x29\x00\xC1\x32\x84\x31\x13\x70\x0A\x78\x01\x32\xD2\xB2\x0A\x70\x29\x00\x85\x31\x09\x78\xB9\x42\x02\xD3\x0F\x2A\x00\xD8\xE0\xE0\x2A\x00\x84\x32\x13\x70\x2B\x00\x85\x33\x1F\x70\x2B\x00\x00\x9A\x88\x33\x1A\x60\x01\x9B\x86\x35\x2B\x70\xD2\xE0\xFF\x2B\xA0\xD1\x91\xE7\x22\x00\xFA\x21\xAC\x32\x13\x88\x49\x01\x8B\x42\x05\xD2\x64\x33\x13\x80\x23\x00\xFF\x22\x8C\x33\x1A\x70\x23\x00\x85\x33\x00\x22\x1A\x70\x92\xE7\x22\x00\xC8\x21\xAC\x32\x13\x88\x49\x00\x8B\x42\xF3\xD9\x64\x3B\xEC\xE7\x26\x00\xAE\x36\x33\x78\x05\x2B\x15\xD8\x01\x33\x03\x22\x00\x20\xDB\xB2\x9A\x42\x40\x41\xC0\xB2\x33\x70\xFB\xF7\xF6\xFF\x23\x00\xFF\x22\x21\x00\x8C\x33\x1A\x70\x32\x78\x33\x4B\x92\x00\x9B\x18\x5B\x6D\xBC\x31\x0B\x60\x23\x00\x01\x22\xC1\x33\xD1\xE7\x26\x00\xAE\x36\x33\x78\x00\x2B\xF6\xD0\x01\x3B\xDF\xE7\x22\x00\xBC\x32\x13\x68\x2A\x49\x5B\x18\x2A\x49\x8B\x42\x00\xDD\x0B\x00\x27\x49\x8B\x42\x00\xDA\x0B\x00\x13\x60\xBC\xE7\x22\x00\xBC\x32\x13\x68\x25\x49\xEF\xE7\x23\x00\xBC\x33\x1B\x68\x00\x2B\xDB\xD0\x22\x00\xB4\x32\x11\x68\x21\x48\x5B\x18\x81\x42\xD4\xD8\x13\x60\xD2\xE7\x23\x00\xBC\x33\x19\x68\x00\x29\xCD\xD0\x22\x00\xB4\x32\x13\x68\x1A\x48\x83\x42\xC7\xD8\x5B\x1A\xF0\xE7\x40\x23\x18\x4A\x11\x68\x4B\x40\xD8\xE7\x23\x00\xFF\x22\x86\x33\x1B\x78\xE2\x54\x91\xE7\x22\x00\xAF\x32\x13\x78\x01\x33\x5A\x20\x13\x70\xFE\xF7\xEF\xFA\x88\xE7\x22\x00\xAF\x32\x13\x78\x01\x3B\xF5\xE7\x23\x00\x8D\x33\x82\xE7\xA8\x13\x00\x20\x00\x10\x06\x40\x74\x14\x00\x20\xB4\x13\x00\x20\xB3\x03\x00\x20\x44\x14\x00\x20\x14\xEF\x00\x00\x10\x27\x00\x00\x40\x0D\x03\x00\xF0\xD8\xFF\xFF\x7F\xA4\xBF\x07\x00\x08\x06\x40\x06\x20\x01\x21\xFB\xF7\x1E\xFE\x10\x23\x2A\x68\x13\x43\x2B\x60\x23\x00\x88\x33\x18\x68\x23\x1D\xDA\x6F\x82\x42\x08\xD0\xD8\x67\xFF\xF7\xB2\xFD\x23\x00\xB8\x33\x47\x20\x19\x88\xFC\xF7\xC0\xF9\x10\x26\xFC\xF7\x99\xFA\xFF\x28\x68\xD0\x23\x00\x86\x33\x1E\x78\xFF\xF7\x76\xFD\x23\x00\x85\x33\x18\x70\x23\x00\xA0\x55\xAF\x33\x1B\x78\x83\x42\x00\xD9\xDD\xE6\x80\x48\xFF\xF7\x2F\xFE\xB0\x22\x38\x21\x7F\x4B\x7F\x4C\x92\x00\x99\x54\x7F\x4F\x21\x00\x22\x00\x38\x00\xAE\x31\x09\x78\x86\x32\x7E\x30\x41\x5C\x12\x78\x78\x25\x8A\x40\x7A\x49\xD2\xB2\x51\x18\xCB\x18\x02\x21\x49\x42\x80\x26\x88\x18\x30\x42\x09\xD1\xCE\x17\x88\x19\x70\x40\x2E\x00\x86\x40\x30\x00\x1E\x78\x28\x40\x30\x43\x18\x70\x01\x31\x01\x33\x03\x29\xED\xD1\x00\x26\xF3\xB2\x00\x93\x23\x00\x3A\x00\xAE\x33\x1B\x78\x7E\x32\xD3\x5C\x32\x00\x1A\x41\xA5\x5C\xFF\x2D\x53\xD1\x01\x36\x80\x2E\xEF\xD1\x23\x00\x22\x00\xAF\x33\x8C\x32\x12\x78\x1B\x78\x9B\x1A\x2A\x22\x93\x42\x60\xDD\x13\x00\x00\x26\xD3\x1A\xDD\xB2\x37\x00\xF3\x1C\xBB\x42\x5C\xD0\x23\x00\x98\x33\x18\x68\xF9\xB2\x03\x68\x2A\x00\x5B\x68\x98\x47\x01\x37\xF2\xE7\x01\x3E\x40\x20\xF6\xB2\xFE\xF7\x43\xFA\x00\x2E\x8B\xD1\x8E\xE7\xFC\xF7\x24\xFA\x2B\x00\xC1\x33\x1B\x78\xFF\x28\x16\xD0\x00\x2B\x00\xD1\xA0\xE6\x04\x35\xE8\x6F\xFF\xF7\x28\xFD\xFF\xF7\xFA\xFC\x20\x70\xB8\x42\x03\xD9\x07\x00\xEB\x6F\x01\x96\x00\x93\x46\x4B\x8C\x33\x1A\x78\x82\x42\x06\xD9\x18\x70\x04\xE0\x00\x2B\xE9\xD1\x23\x78\xFF\x2B\xE6\xD1\x40\x4B\x02\x99\x04\x33\xDA\x6F\x01\x36\x52\x18\xF6\xB2\xDA\x67\x01\x34\x78\xE6\x23\x00\x8C\x33\x1B\x78\xED\x1A\x2A\x2D\x0F\xDD\x2A\x25\x2A\x23\x5D\x1B\xED\xB2\x23\x00\x98\x33\x18\x68\xEA\xB2\x03\x68\x00\x99\x5B\x68\x01\x35\x98\x47\x2B\x2D\xF4\xD1\x95\xE7\xEB\x43\xDB\x17\x1D\x40\xEC\xE7\xD9\x43\xC9\x17\x0B\x40\x9B\xE7\x04\x36\x80\x2E\x9B\xD1\x25\x00\x00\x23\xA0\x35\x2B\x80\x23\x00\x02\x22\xAC\x33\x11\x00\x18\x88\x26\x00\x01\x23\xFF\xF7\xF2\xFC\x69\x23\xAE\x36\x2B\x80\x33\x78\x23\x4A\x9B\x00\xD3\x18\x03\x22\x58\x6D\x11\x00\x02\x23\x40\x00\xFF\xF7\xE4\xFC\x20\x00\x2A\x23\x88\x30\x2B\x80\x06\x22\x02\x21\x00\x68\x27\x3B\xFF\xF7\xDA\xFC\xC0\x23\x9B\x00\x2B\x80\x33\x78\x27\x00\x16\x4A\x9B\x00\xD3\x18\x04\x22\xB4\x37\x58\x6D\x3B\x68\x11\x00\x18\x1A\x01\x23\xFF\xF7\xC9\xFC\x12\x4B\x10\x4A\x2B\x80\x33\x78\xBC\x34\x9B\x00\xD3\x18\x04\x22\x58\x6D\x3B\x68\x11\x00\xC0\x18\x01\x23\xFF\xF7\xBA\xFC\xCD\x23\x03\x22\x9B\x00\x11\x00\x20\x68\x2B\x80\x02\x23\xFF\xF7\xB1\xFC\xFC\xF7\x48\xFC\xB1\xE5\xC0\x46\x44\x14\x00\x20\x04\x07\x00\x20\xB4\x13\x00\x20\x14\xEF\x00\x00\x7E\x02\x00\x00\x62\x03\x00\x00\x02\xB4\x71\x46\x49\x08\x49\x00\x09\x5C\x49\x00\x8E\x44\x02\xBC\x70\x47\xC0\x46\x1D\x4B\x10\xB5\x1D\x4C\x5A\x1C\x5A\x60\x00\x21\x80\x22\x20\x00\x00\xF0\x82\xF8\x23\x00\x00\x22\x84\x33\x1A\x80\x23\x00\x86\x33\x1A\x70\x23\x00\x88\x33\x1A\x60\x23\x00\xFF\x21\x8C\x33\x19\x80\x23\x00\x13\x49\x94\x33\x19\x60\x12\x4B\x21\x00\x18\x00\x90\x31\x2C\x30\x08\x60\x20\x00\x98\x30\x01\x60\x21\x00\xA0\x31\x0A\x80\x22\x00\x44\x33\xA4\x32\x13\x60\x23\x00\x0B\x49\xA8\x33\x19\x60\x23\x00\x0A\x49\xAC\x33\x19\x60\x23\x00\x9C\x33\x1A\x60\x08\x4B\xBC\x34\x23\x60\x10\xBD\xC0\x46\xA8\x13\x00\x20\xB4\x13\x00\x20\x04\x07\x00\x20\x14\xEF\x00\x00\x20\xD6\x00\x00\x20\x03\x05\x32\x80\x38\x01\x00\x10\xB5\xF1\xF7\x31\xF9\x00\x20\x10\xBD\xC0\x46\x02\x48\x85\x46\xFF\xF7\xF6\xFF\xFE\xE7\x00\x00\x88\x13\x00\x20\x04\x4B\x05\x4A\x05\x48\x83\x42\x02\xD2\x02\xCA\x02\xC3\xFA\xE7\x70\x47\xC0\x46\x8C\x13\x00\x20\xC0\xEF\x00\x00\x8C\x13\x00\x20\x70\xB5\x00\x26\x0C\x4D\x0D\x4C\x64\x1B\xA4\x10\xA6\x42\x09\xD1\x00\x26\x00\xF0\x6F\xF8\x0A\x4D\x0A\x4C\x64\x1B\xA4\x10\xA6\x42\x05\xD1\x70\xBD\xB3\x00\xEB\x58\x98\x47\x01\x36\xEE\xE7\xB3\x00\xEB\x58\x98\x47\x01\x36\xF2\xE7\xB4\xEF\x00\x00\xB4\xEF\x00\x00\xB4\xEF\x00\x00\xBC\xEF\x00\x00\x03\x00\x82\x18\x93\x42\x00\xD1\x70\x47\x19\x70\x01\x33\xF9\xE7\x00\x23\x10\xB5\x9A\x42\x00\xD1\x10\xBD\xCC\x5C\xC4\x54\x01\x33\xF8\xE7\x00\x00\x01\x00\x00\x00\x0A\x00\x00\x00\x64\x00\x00\x00\xE8\x03\x00\x00\x10\x27\x00\x00\xA0\x86\x01\x00\x40\x42\x0F\x00\x80\x96\x98\x00\x00\xE1\xF5\x05\x00\x00\x00\x00\x00\x00\x00\x00\x7D\xE6\x00\x00\x5D\xE6\x00\x00\x57\xE6\x00\x00\x0D\xE8\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x53\xE6\x00\x00\x31\xE6\x00\x00\x2D\xE6\x00\x00\x29\xE6\x00\x00\x40\x06\x00\x00\x88\x13\x00\x00\x10\x27\x00\x00\x20\x4E\x00\x00\x40\x9C\x00\x00\x80\x38\x01\x00\x00\x71\x02\x00\x64\x00\x38\x01\x71\x02\xE2\x04\xC4\x09\xC4\x09\xC4\x09\x02\x02\x02\x02\x02\x01\x00\x00\x00\x00\xF8\xB5\xC0\x46\xF8\xBC\x08\xBC\x9E\x46\x70\x47\xF8\xB5\xC0\x46\xF8\xBC\x08\xBC\x9E\x46\x70\x47\x09\xE6\x00\x00\xD9\xED\x00\x00\xE1\xE5\x00\x00'
    fw += payload
else:
    print('ERROR: Cant find function')

open(sys.argv[1],'wb').write(fw)
